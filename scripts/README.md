# ç‰ˆæœ¬ç®¡ç†è…³æœ¬èªªæ˜

æœ¬ç›®éŒ„åŒ…å«å¤šå€‹ç‰ˆæœ¬ç®¡ç†å’Œç™¼å¸ƒè…³æœ¬ï¼Œå¹«åŠ©æ‚¨è‡ªå‹•åŒ–ç‰ˆæœ¬è™Ÿæ›´æ–°å’ŒGit tagå‰µå»ºã€‚

## ğŸ“ è…³æœ¬åˆ—è¡¨

### 1. version-manager.sh (å®Œæ•´ç‰ˆ - æ¨è–¦)
**æ–‡ä»¶**: `scripts/version-manager.sh`

**åŠŸèƒ½**:
- âœ… è‡ªå‹•æª¢æ¸¬ç•¶å‰ç‰ˆæœ¬è™Ÿ
- âœ… æ”¯æ´å¤šç¨®ç‰ˆæœ¬æ›´æ–°é¡å‹
- âœ… è‡ªå‹•æ›´æ–°package.json
- âœ… å‰µå»ºGitæäº¤å’Œtag
- âœ… äº’å‹•å¼ç¢ºèªå’ŒéŒ¯èª¤è™•ç†
- âœ… è‡ªå‹•æ¨é€åˆ°GitHubï¼ˆå¯é¸ï¼‰

**ä½¿ç”¨æ–¹æ³•**:
```bash
# ä¿®è£œç‰ˆæœ¬ (1.0.0 â†’ 1.0.1)
./scripts/version-manager.sh patch

# æ¬¡è¦ç‰ˆæœ¬ (1.0.0 â†’ 1.1.0)
./scripts/version-manager.sh minor

# ä¸»è¦ç‰ˆæœ¬ (1.0.0 â†’ 2.0.0)
./scripts/version-manager.sh major

# è‡ªå®šç¾©ç‰ˆæœ¬
./scripts/version-manager.sh custom 2.1.5
```

### 2. version-manager.js (Node.jsç‰ˆ - è·¨å¹³å°)
**æ–‡ä»¶**: `scripts/version-manager.js`

**åŠŸèƒ½**:
- âœ… è·¨å¹³å°æ”¯æ´ï¼ˆWindows/Mac/Linuxï¼‰
- âœ… è‡ªå‹•ç‰ˆæœ¬è™Ÿè¨ˆç®—
- âœ… å®Œæ•´çš„éŒ¯èª¤è™•ç†
- âœ… å½©è‰²è¼¸å‡º

**ä½¿ç”¨æ–¹æ³•**:
```bash
# ä¿®è£œç‰ˆæœ¬
node scripts/version-manager.js patch

# æ¬¡è¦ç‰ˆæœ¬
node scripts/version-manager.js minor

# ä¸»è¦ç‰ˆæœ¬
node scripts/version-manager.js major

# è‡ªå®šç¾©ç‰ˆæœ¬
node scripts/version-manager.js custom 2.1.5
```

### 3. quick-release.sh (å¿«é€Ÿç‰ˆ)
**æ–‡ä»¶**: `scripts/quick-release.sh`

**åŠŸèƒ½**:
- âœ… å¿«é€Ÿç‰ˆæœ¬æ›´æ–°
- âœ… ç°¡æ½”çš„æ“ä½œæµç¨‹
- âœ… é©åˆæ—¥å¸¸ä½¿ç”¨

**ä½¿ç”¨æ–¹æ³•**:
```bash
# ä¿®è£œç‰ˆæœ¬
./scripts/quick-release.sh patch

# æ¬¡è¦ç‰ˆæœ¬
./scripts/quick-release.sh minor "é‡è¦åŠŸèƒ½æ›´æ–°"

# ä¸»è¦ç‰ˆæœ¬
./scripts/quick-release.sh major "é‡å¤§ç‰ˆæœ¬ç™¼å¸ƒ"
```

### 4. test-release.sh (æ¸¬è©¦ç‰ˆ)
**æ–‡ä»¶**: `scripts/test-release.sh`

**åŠŸèƒ½**:
- âœ… æ¸¬è©¦GitHub Actionsæµç¨‹
- âœ… æœ¬åœ°æ§‹å»ºé©—è­‰
- âœ… å‰µå»ºæ¸¬è©¦tag

**ä½¿ç”¨æ–¹æ³•**:
```bash
# å‰µå»ºæ¸¬è©¦ç‰ˆæœ¬
./scripts/test-release.sh v1.0.0-test
```

## ğŸ¯ ç‰ˆæœ¬è™Ÿè¦å‰‡

### èªç¾©åŒ–ç‰ˆæœ¬ (Semantic Versioning)
- **ä¸»è¦ç‰ˆæœ¬ (major)**: ä¸å…¼å®¹çš„APIä¿®æ”¹
- **æ¬¡è¦ç‰ˆæœ¬ (minor)**: å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- **ä¿®è£œç‰ˆæœ¬ (patch)**: å‘ä¸‹å…¼å®¹çš„å•é¡Œä¿®å¾©

### ç‰ˆæœ¬è™Ÿæ ¼å¼
```
ä¸»ç‰ˆæœ¬è™Ÿ.æ¬¡ç‰ˆæœ¬è™Ÿ.ä¿®è¨‚è™Ÿ
ä¾‹å¦‚: 1.2.3
```

## ğŸš€ å®Œæ•´ç™¼å¸ƒæµç¨‹

### 1. é–‹ç™¼éšæ®µ
```bash
# é–‹ç™¼åŠŸèƒ½...
git add .
git commit -m "feat: æ–°å¢æŸæŸåŠŸèƒ½"
```

### 2. ç‰ˆæœ¬æ›´æ–°
```bash
# ä½¿ç”¨è…³æœ¬æ›´æ–°ç‰ˆæœ¬
./scripts/version-manager.sh patch
```

### 3. æ¨é€åˆ°GitHub
```bash
# è…³æœ¬æœƒè‡ªå‹•æç¤ºï¼Œæˆ–æ‰‹å‹•æ¨é€
git push origin main
git push origin v1.0.1
```

### 4. è‡ªå‹•éƒ¨ç½²
- GitHub Actionsè‡ªå‹•æª¢æ¸¬tag
- è‡ªå‹•æ§‹å»ºé …ç›®
- æ¨é€åˆ°releaseåˆ†æ”¯
- å‰µå»ºGitHub Release

## ğŸ“‹ è…³æœ¬åŠŸèƒ½å°æ¯”

| åŠŸèƒ½ | version-manager.sh | version-manager.js | quick-release.sh | test-release.sh |
|------|-------------------|-------------------|------------------|-----------------|
| ç‰ˆæœ¬æª¢æ¸¬ | âœ… | âœ… | âœ… | âœ… |
| ç‰ˆæœ¬è¨ˆç®— | âœ… | âœ… | âœ… | âŒ |
| æ›´æ–°package.json | âœ… | âœ… | âœ… | âŒ |
| å‰µå»ºGitæäº¤ | âœ… | âœ… | âœ… | âœ… |
| å‰µå»ºGit tag | âœ… | âœ… | âœ… | âœ… |
| éŒ¯èª¤è™•ç† | âœ… | âœ… | âŒ | âœ… |
| äº’å‹•ç¢ºèª | âœ… | âŒ | âŒ | âœ… |
| è‡ªå‹•æ¨é€ | âœ… | âŒ | âŒ | âŒ |
| è·¨å¹³å°æ”¯æ´ | âŒ | âœ… | âŒ | âŒ |

## ğŸ”§ è‡ªå®šç¾©é…ç½®

### ä¿®æ”¹é è¨­è¡Œç‚º
ç·¨è¼¯è…³æœ¬æ–‡ä»¶ä¸­çš„ä»¥ä¸‹éƒ¨åˆ†ï¼š

```bash
# ä¿®æ”¹é è¨­ç‰ˆæœ¬é¡å‹
VERSION_TYPE=${1:-"minor"}  # æ”¹ç‚ºminor

# ä¿®æ”¹Gitç”¨æˆ¶ä¿¡æ¯
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"
```

### æ·»åŠ è‡ªå®šç¾©æª¢æŸ¥
åœ¨è…³æœ¬ä¸­æ·»åŠ æ‚¨çš„æª¢æŸ¥é‚è¼¯ï¼š

```bash
# æª¢æŸ¥æ¸¬è©¦æ˜¯å¦é€šé
npm test || {
    echo "âŒ æ¸¬è©¦å¤±æ•—ï¼Œç„¡æ³•ç™¼å¸ƒç‰ˆæœ¬"
    exit 1
}
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **æ¬Šé™éŒ¯èª¤**
   ```bash
   chmod +x scripts/*.sh
   ```

2. **GitéŒ¯èª¤**
   ```bash
   git config --global user.name "Your Name"
   git config --global user.email "your.email@example.com"
   ```

3. **Node.jséŒ¯èª¤**
   ```bash
   # ç¢ºä¿Node.jså·²å®‰è£
   node --version
   npm --version
   ```

4. **Tagå·²å­˜åœ¨**
   - è…³æœ¬æœƒè‡ªå‹•æª¢æ¸¬ä¸¦è©¢å•æ˜¯å¦åˆªé™¤
   - æˆ–æ‰‹å‹•åˆªé™¤ï¼š`git tag -d v1.0.0`

### èª¿è©¦æ¨¡å¼
```bash
# å•Ÿç”¨èª¿è©¦è¼¸å‡º
set -x
./scripts/version-manager.sh patch
set +x
```

## ğŸ“ æœ€ä½³å¯¦è¸

1. **ç‰ˆæœ¬å‘½å**:
   - ä½¿ç”¨èªç¾©åŒ–ç‰ˆæœ¬è™Ÿ
   - ä¸»è¦ç‰ˆæœ¬ï¼šé‡å¤§è®Šæ›´
   - æ¬¡è¦ç‰ˆæœ¬ï¼šæ–°åŠŸèƒ½
   - ä¿®è£œç‰ˆæœ¬ï¼šéŒ¯èª¤ä¿®å¾©

2. **ç™¼å¸ƒæµç¨‹**:
   - å…ˆå®Œæˆæ‰€æœ‰é–‹ç™¼å·¥ä½œ
   - é‹è¡Œæ¸¬è©¦ç¢ºä¿å“è³ª
   - æ›´æ–°ç‰ˆæœ¬è™Ÿ
   - å‰µå»ºtagä¸¦æ¨é€
   - ç›£æ§GitHub ActionsåŸ·è¡Œ

3. **æ–‡æª”æ›´æ–°**:
   - æ›´æ–°CHANGELOG.md
   - æ›´æ–°README.md
   - è¨˜éŒ„é‡è¦è®Šæ›´

## ğŸ‰ ä½¿ç”¨å»ºè­°

- **æ—¥å¸¸é–‹ç™¼**: ä½¿ç”¨ `quick-release.sh`
- **æ­£å¼ç™¼å¸ƒ**: ä½¿ç”¨ `version-manager.sh`
- **è·¨å¹³å°ç’°å¢ƒ**: ä½¿ç”¨ `version-manager.js`
- **æ¸¬è©¦æµç¨‹**: ä½¿ç”¨ `test-release.sh`

é¸æ“‡é©åˆæ‚¨éœ€æ±‚çš„è…³æœ¬ï¼Œé–‹å§‹è‡ªå‹•åŒ–æ‚¨çš„ç‰ˆæœ¬ç®¡ç†æµç¨‹ï¼
